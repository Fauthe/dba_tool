@model List<dba_tool.Models.ServerOverall>
@{
	ViewData["Title"] = "Server Overall";
}

@{
	Layout = "_NewLayout";
}

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Google Font: Source Sans Pro -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
	<!-- Font Awesome -->
	<link href="~/theme/plugins/fontawesome-free/css/all.min.css" rel="stylesheet" />
	<!-- Theme style -->
	<link rel="stylesheet" href="~/theme/dist/css/adminlte.min.css">
</head>
<body>

	<!-- Content Wrapper. Contains page content -->
	<div class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<div class="container-fluid">
				<div class="row mb-2">
					<div class="col-sm-6">
						<h1>Server Overall</h1>
					</div>
					<div class="col-sm-6">
						<ol class="breadcrumb float-sm-right">
							<li class="breadcrumb-item"><a href="#">Home</a></li>
							<li class="breadcrumb-item active">Server Overall</li>
						</ol>
					</div>
				</div>
			</div><!-- /.container-fluid -->
		</section>

		<!-- Main content -->
		<section class="content">
			<div class="container-fluid">
				<div class="row">
					<!-- /.col -->
				</div>
				<!-- /.row -->

				<div class="row">
					<div class="col-md-6">
						<!-- Line chart -->
						<div class="card card-primary card-outline">
							<div class="card-header">
								<h3 class="card-title">
									<i class="far fa-chart-bar"></i>
									Log Usage
								</h3>

								<div class="card-tools">
									<button type="button" class="btn btn-tool" data-card-widget="collapse">
										<i class="fas fa-minus"></i>
									</button>
								</div>
							</div>
							<div class="card-body">

								<div id="donut-chart" style="height: 300px;">
									<div class="row">
										<div class="col-12">
											<div class="card">
												<!-- /.card-header -->
												<div class="card-body table-responsive p-0" style="height: 300px;">
													<table class="table table-head-fixed text-nowrap">
														<thead>
															<tr>
																<th>Database Name</th>
																<th>Used Log Size (MB)</th>
																<th>Used Log Percent (%)</th>
															</tr>
														</thead>
														<tbody>
															@{
																if (Model != null)
																{
																	foreach (var item in Model)
																	{


																		foreach (var x in item.OverallLogs)
																		{
																			<tr>
																				<td>@x.name.ToString()</td>
																				<td>@x.log_used</td>
																				<td>@x.log_used_percent</td>
																			</tr>

																		}
																	}



																}
															}
														</tbody>
													</table>
												</div>
												<!-- /.card-body -->
											</div>
											<!-- /.card -->
										</div>
									</div>
								</div>
							</div>
							<!-- /.card-body-->
						</div>
						<!-- /.card -->
						<!-- Area chart -->
						<!-- /.card -->

					</div>
					<!-- /.col -->

					<div class="col-md-6">
						<!-- Bar chart -->
						<!-- /.card -->
						<!-- Donut chart -->
						<div class="card card-primary card-outline">
							<div class="card-header">
								<h3 class="card-title">
									<i class="far fa-chart-bar"></i>
									TempDB Usage
								</h3>

								<div class="card-tools">
									<button type="button" class="btn btn-tool" data-card-widget="collapse">
										<i class="fas fa-minus"></i>
									</button>
								</div>
							</div>
							<div class="card-body">
								<div id="donut-chart" style="height: 300px;">
									<div class="row">
										<div class="col-12">
											<div class="card">
												<!-- /.card-header -->
												<div class="card-body table-responsive p-0" style="height: 300px;">
													<table class="table table-head-fixed text-nowrap">
														<thead>
															<tr>
																<th>Server Name</th>
																<th>Database Name</th>
																<th>File Name</th>
																<th>Physical Name</th>
																<th>File Size (MB)</th>
																<th>Available Space (MB)</th>
																<th>Used Space (%)</th>
															</tr>
														</thead>
														<tbody>
															@{
																if (Model != null)
																{
																	foreach (var item in Model)
																	{
																		foreach (var x in item.TempDBUs)
																		{
																			<tr>
																				<td>@x.serverName</td>
																				<td>@x.dbName</td>
																				<td>@x.fileName</td>
																				<td>@x.filePath</td>
																				<td>@x.fileSize</td>
																				<td>@x.availableSpace</td>
																				<td>@x.percentFull</td>

																			</tr>
																		}


																	}
																}
															}
														</tbody>
													</table>
												</div>
												<!-- /.card-body -->
											</div>
											<!-- /.card -->
										</div>
									</div>
								</div>
							</div>
							<!-- /.card-body-->
						</div>
						<!-- /.card -->
					</div>
					<div class="col-md-6">
						<!-- Bar chart -->
						<!-- /.card -->
						<!-- Donut chart -->
						<div class="card card-primary card-outline">
							<div class="card-header">
								<h3 class="card-title">
									<i class="far fa-chart-bar"></i>
									CPU Usage
								</h3>

								<div class="card-tools">
									<button type="button" class="btn btn-tool" data-card-widget="collapse">
										<i class="fas fa-minus"></i>
									</button>
								</div>
							</div>
							<div class="card-body">
								<div id="donut-chart" style="height: 300px;">
									<div class="row">
										<div class="col-12">
											<div class="card">
												<!-- /.card-header -->
												<div class="card-body table-responsive p-0" style="height: 300px;">
													<table class="table table-head-fixed text-nowrap">
														<thead>
															<tr>
																<th>Event Time</th>
																<th>SQL Process Utilization</th>
																<th>System Idle</th>
																<th>Other Process Utilization</th>
																<th>Load Date</th>
															</tr>
														</thead>
														<tbody>
															@{
																if (Model != null)
																{
																	foreach (var item in Model)
																	{


																		foreach (var x in item.CPUUsages)
																		{
																			<tr>
																				<td>@x.eventTime</td>
																				<td>@x.sqlprocessutilization</td>
																				<td>@x.systemIdel</td>
																				<td>@x.otherProcessUtilization</td>
																				<td>@x.loadDate</td>
																			</tr>

																		}
																	}



																}
															}
														</tbody>
													</table>
												</div>
												<!-- /.card-body -->
											</div>
											<!-- /.card -->
										</div>
									</div>

								</div>
							</div>
							<!-- /.card-body-->
						</div>
						<!-- /.card -->
					</div>
					<div class="col-md-6">
						<!-- Bar chart -->
						<!-- /.card -->
						<!-- Donut chart -->
						<div class="card card-primary card-outline">
							<div class="card-header">
								<h3 class="card-title">
									<i class="far fa-chart-bar"></i>
									Memory Usage
								</h3>

								<div class="card-tools">
									<button type="button" class="btn btn-tool" data-card-widget="collapse">
										<i class="fas fa-minus"></i>
									</button>
								</div>
							</div>
							<div class="card-body">
								<div id="donut-chart" style="height: 300px;">
									<div class="row">
										<div class="col-12">
											<div class="card">
												<!-- /.card-header -->
												<div class="card-body table-responsive p-0" style="height: 300px;">
													<table class="table table-head-fixed text-nowrap">
														<thead>
															<tr>
																<th>Parameter</th>
																<th>Value</th>
															</tr>
														</thead>
														<tbody>
															@{
																if (Model != null)
																{
																	foreach (var item in Model)
																	{


																		foreach (var x in item.OverallMemorys)
																		{
																			<tr>
																				<td>@x.parameter.ToString()</td>
																				<td>@x.value.ToString()</td>
																			</tr>

																		}
																	}



																}
															}
														</tbody>
													</table>
												</div>
												<!-- /.card-body -->
											</div>
											<!-- /.card -->
										</div>
									</div>
								</div>
							</div>
							<!-- /.card-body-->
						</div>
						<!-- /.card -->
					</div>

					<!-- /.col -->
				</div>
				<!-- /.row -->
			</div><!-- /.container-fluid -->
		</section>
		<!-- /.content -->
	</div>
	<!-- /.content-wrapper -->
	<!-- jQuery -->
	<script src="~/theme/plugins/jquery/jquery.min.js"></script>
	<!-- Bootstrap 4 -->
	<script src="~/theme/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
	<!-- AdminLTE App -->
	<script src="~/theme/dist/js/adminlte.min.js"></script>
	<script src="~/theme/plugins/flot/jquery.flot.js"></script>
	<!-- FLOT RESIZE PLUGIN - allows the chart to redraw when the window is resized -->
	<script src="~/theme/plugins/flot/plugins/jquery.flot.resize.js"></script>
	<!-- FLOT PIE PLUGIN - also used to draw donut charts -->
	<script src="~/theme/plugins/flot/plugins/jquery.flot.pie.js"></script>
</body>
</html>